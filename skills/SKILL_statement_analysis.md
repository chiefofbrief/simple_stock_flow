# Financial Statement Analysis Skill

## Prerequisites

**Before executing this skill, you must:**
1. Read this entire skill file - Contains workflow steps and output format requirements
2. Have access to the statement comparison markdown file for the target ticker

**Required Files:**
- `{TICKER}_statements.md` - Statement comparison tables (generated by financial_statements.py master script)
- Optional: Additional context from `{TICKER}_tracking.md` if available

**How to Generate Required Files:**
```bash
# Single ticker analysis
python scripts/financial_statements.py {TICKER}

# With peer comparison (recommended)
python scripts/financial_statements.py {TICKER} --compare {PEER1} {PEER2}
```

**Output Location:** `data/analysis/{TICKER}/{TICKER}_statements.md`

---

## Analysis Methodology

This analysis uses a **three-dimension framework** applied across 4 progressive passes:
1. **Pass 1:** Projection Seeds Baseline (8 seeds)
2. **Pass 2:** Undervaluation Assessment (8 priority metrics)
3. **Pass 3:** Risk Assessment (5 priority metrics)
4. **Pass 4:** Secondary Metrics Scan (17 metrics)
5. **Pass 5:** Synthesis & Investigation Items

Apply the three-dimension analysis framework throughout all passes.

---

## Three-Dimension Analysis Framework

Apply this framework to every metric analyzed:

**1. Absolute Level & Peer Positioning**
- Current value vs. 5-year average - is this typical?
- How does target compare to peers?
- Per glossary, is this level healthy/concerning?

**2. Trends & Divergences**
- CAGR, slope, recent deltas - improving/stable/deteriorating?
- Are peer trends converging or diverging?
- Recent changes consistent with historical pattern?

**3. Volatility & Outliers**
- Is performance consistent or erratic (CV)?
- Are there outliers? What might they indicate?
- How does volatility compare to peers?

---

## Workflow

Analysis conducted in 5 passes. Each pass builds on previous findings.

**Tone/Length Guidance:** Elaborate on critical or anomalous items; be brief on standard items. Include evidence (specific data). Avoid fluff and redundancy. Let importance drive length.

---

### Pass 1: Projection Seeds Baseline

**Objective:** Establish historical baseline patterns for the 8 projection seeds.

**Action:**
1. Review the **Projection Seeds (8)** section in `{TICKER}_statements.md`
2. For each seed, apply the three-dimension analysis framework
3. Note any concerning trends, volatility patterns, or peer divergences

**The 8 Projection Seeds:**
1. Revenue
2. COGS %
3. SG&A %
4. R&D %
5. Depreciation & Amortization
6. Capital Expenditures
7. Total Debt
8. Working Capital Components (A/R, Inventory, A/P)

**Begin writing** `{TICKER}_ANALYSIS_statement.md`:
- Create file with header
- Write "Projection Seeds Baseline" section

See Required Output Format section for structure.

**PAUSE** - User reviews seed baselines

---

### Pass 2: Undervaluation Assessment

**Objective:** Answer "Based solely on financials, is the stock potentially undervalued?"

**Action:**
1. Review the **Priority Metrics: Undervaluation (8)** section in `{TICKER}_statements.md`
2. Analyze each of the 8 undervaluation metrics
3. Apply three-dimension analysis framework to each metric

**Priority Undervaluation Metrics (8):**

1. **Revenue (trends)** - Is the business growing, stable, or declining?
2. **Operating Margin (%)** - Profitability of core business before financing decisions
3. **Operating Cash Flow** - Sustainability of cash generation
4. **Free Cash Flow** - Actual cash generation vs. what you'd pay for it
5. **NCAV** - Graham's net-net signal (if positive, strong undervaluation indicator)
6. **ROTC (%)** - Returns on capital deployed (are assets productive?)
7. **ROE (%)** - Returns to shareholders (is equity productive?)
8. **Operating Leverage** - Abnormal growth potential when conditions change (fixed cost structure magnification)

**Continue updating** `{TICKER}_ANALYSIS_statement.md`:
- Write "Undervaluation Metrics Analysis" section
- Include summary with strengths, weaknesses, and net assessment

See Required Output Format section for structure.

**PAUSE** - User reviews undervaluation assessment

---

### Pass 3: Risk Assessment

**Objective:** Answer "Is it risky?"

**Action:**
1. Review the **Priority Metrics: Risk (5)** section in `{TICKER}_statements.md`
2. Analyze each of the 5 risk metrics
3. Apply three-dimension analysis framework to each metric

**Priority Risk Metrics (5):**

1. **Debt/OCF** - Best single credit quality measure and predictor of bankruptcy
2. **OCF/Net Income** - Are earnings converting to cash or accounting fiction?
3. **Accruals Gap** - Earnings quality indicator; large gaps signal manipulation risk
4. **Depreciation & Amortization** - Critical for detecting manipulation via peer comparison
5. **Working Capital (trends)** - Validates income statement accuracy; harder to manipulate than earnings

**Continue updating** `{TICKER}_ANALYSIS_statement.md`:
- Write "Risk Metrics Analysis" section
- Include summary with key risks, mitigating factors, and net assessment

See Required Output Format section for structure.

**PAUSE** - User reviews risk assessment

---

### Pass 4: Secondary Metrics Scan

**Objective:** Brief scan of remaining 17 metrics for anomalies.

**Action:**
1. Note: Secondary metrics are available in the JSON files (`{TICKER}_metrics.json`)
2. Review only if anomalies are suspected or specific questions arise
3. Detail only if anomalies warrant investigation

**Secondary Metrics (17) - grouped by category:**

**Operations Context (4):**
- Gross Margin (%)
- Net Margin (%)
- D&A % of Revenue
- D&A % of OCF

**Financial Health Context (8):**
- Debt/Total Assets (%)
- Tangible Equity/Total Assets (%)
- Current Ratio
- Quick Ratio
- EBIT Coverage
- Debt to Tangible Equity
- Short-Term Debt % of Current Liabilities
- Cash % of Total Assets

**Efficiency Context (5):**
- Receivables vs Revenue Growth
- DSO (Days)
- Inventory vs COGS Growth
- Inventory Turnover
- Capex/Depreciation

**Continue updating** `{TICKER}_ANALYSIS_statement.md`:
- Write "Secondary Metrics" section (brief unless anomalies found)

**PAUSE** - User reviews secondary metrics

---

### Pass 5: Synthesis & Investigation Items

**Objective:** Synthesize overall investment thesis and identify follow-up items.

**Action:**
1. Synthesize overall assessment: Is stock undervalued? Is it risky? What's the verdict?
2. Compile investigation items - categorize as:
   - **Seed-Linked Items:** Items that affect projection seeds
     - Format: `Item description | Seeds: X, Y | [CRITICAL if applicable]`
   - **Non-Seed Items:** General concerns not tied to specific seeds
     - Format: `Item description | [NON-SEED] - Category | [CRITICAL if applicable]`
3. Finalize `{TICKER}_ANALYSIS_statement.md`

**Continue updating** `{TICKER}_ANALYSIS_statement.md`:
- Write "TLDR: Investment Assessment" section at top of file
- Write "Items Requiring Further Investigation" section at bottom

See Required Output Format section for complete structure.

**PAUSE** - User reviews synthesis

---

## Required Output Format

`{TICKER}_ANALYSIS_statement.md` structure (built progressively through Passes 1-5):

```markdown
# {TICKER} Statement Analysis

## TLDR: Investment Assessment
[Written in Pass 5]

**Current Financial Picture:**
- **Undervaluation:** [Strong/Moderate/Weak case - key evidence from 8 metrics]
- **Risk:** [High/Moderate/Low - key concerns from 5 metrics]
- **Verdict:** [Overall thesis with brief rationale]

**What's Clear / What's Unclear:**
- [What statement analysis establishes definitively about current financial status]
- [What requires further investigation to understand current picture or enable projections]

---

## Projection Seeds Baseline
[Written during Pass 1]

For each projection seed:
- Historical baseline (5-yr avg, CAGR, slope, recent deltas)
- Stability and volatility (CV, outliers)
- Peer comparison context
- Investigation items if applicable

### 1. Revenue
[Three-dimension analysis with specific data points]

### 2. COGS %
[Three-dimension analysis with specific data points]

### 3. SG&A %
[Three-dimension analysis with specific data points]

### 4. R&D %
[Three-dimension analysis with specific data points]

### 5. Depreciation & Amortization
[Three-dimension analysis with specific data points]

### 6. Capital Expenditures
[Three-dimension analysis with specific data points]

### 7. Total Debt
[Three-dimension analysis with specific data points]

### 8. Working Capital Components
[Three-dimension analysis with specific data points]

---

## Undervaluation Metrics Analysis
[Written during Pass 2]

For each of the 8 Priority Undervaluation Metrics: apply three dimensions (absolute levels, trends, volatility), peer comparison, specific data points, and interpretation.

### 1. Revenue (trends)
[Analysis]

### 2. Operating Margin
[Analysis]

### 3. Operating Cash Flow
[Analysis]

### 4. Free Cash Flow
[Analysis]

### 5. NCAV
[Analysis]

### 6. ROTC
[Analysis]

### 7. ROE
[Analysis]

### 8. Operating Leverage
[Analysis]

**Summary - Undervaluation Case:**
- **Strengths:** [Supporting signals from 8 metrics]
- **Weaknesses:** [Concerns or negative findings]
- **Net Assessment:** [Overall verdict with brief rationale]

---

## Risk Metrics Analysis
[Written during Pass 3]

For each of the 5 Priority Risk Metrics: apply three dimensions (absolute levels, trends, volatility), peer comparison, specific data points, and interpretation.

### 1. Debt / OCF
[Analysis]

### 2. OCF / Net Income
[Analysis]

### 3. Accruals Gap
[Analysis]

### 4. Depreciation & Amortization
[Analysis]

### 5. Working Capital
[Analysis]

**Summary - Risk Assessment:**
- **Key Risks:** [Primary concerns from 5 metrics]
- **Mitigating Factors:** [If any]
- **Net Assessment:** [Overall verdict with brief rationale]

---

## Secondary Metrics
[Written during Pass 4]

Brief coverage of remaining 17 metrics grouped by category:
- Operations Context (4 metrics)
- Financial Health Context (8 metrics)
- Efficiency Context (5 metrics)

Only provide detailed analysis if anomalies warrant it.

---

## Items Requiring Further Investigation
[Written during Pass 5]

### Seed-Linked Items
- [CRITICAL] Item description | Seeds: X, Y | Source: Statement Analysis (YYYY-MM-DD)
- Item description | Seeds: Z | Source: Statement Analysis (YYYY-MM-DD)

### Non-Seed Items
- [CRITICAL] Item description | [NON-SEED] Category | Source: Statement Analysis (YYYY-MM-DD)
- Item description | [NON-SEED] Category | Source: Statement Analysis (YYYY-MM-DD)
```

---

## Notes

**Data Source:** All analysis is based on the markdown tables in `{TICKER}_statements.md`, which contains:
- 8 Projection Seeds with 5-year historical data, YTD annualized values, and statistical summaries
- 13 Priority Metrics (8 undervaluation + 5 risk) with same statistical treatment
- Note about 17 Secondary Metrics available in JSON files

**Peer Comparison:** If the statement markdown includes peer comparison (3 tickers), leverage peer context extensively in the three-dimension analysis.

**Statistical Fields Available:**
- Current (most recent value)
- 5-Yr Avg
- CAGR (for flow items like revenue, OCF)
- Slope (trend direction)
- Recent Î”% (YoY change)
- CV (coefficient of variation - volatility measure)
- Outliers (flagged years that deviate >2 standard deviations)
- YTD values (annualized based on available quarters)

**Focus:** This skill focuses on **qualitative analysis and interpretation** of the financial data. The quantitative calculations have already been performed by the scripts.
